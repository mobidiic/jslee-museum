{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/load-js.js"],"names":["f","exports","module","define","amd","window","global","self","this","loadJS","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","createLoadJS","exec","options","url","cacheId","id","cacheEntry","cache","console","log","allowExternal","el","script","document","getElementById","warn","getScriptById","querySelector","getScriptByUrl","promise","Promise","resolve","text","pending","head","reject","done","onload","onreadystatechange","readyState","onerror","appendChild","createElement","charset","type","async","src","createScript","getElementsByTagName","documentElement","items","Array","all","map","create"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function createLoadJS() {\n  var cache = {};\n  var head = document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n  function exec(options) {\n    if (typeof options === \"string\") {\n      options = {\n        url: options\n      };\n    }\n\n    var cacheId = options.id || options.url;\n    var cacheEntry = cache[cacheId];\n\n    if (cacheEntry) {\n      console.log(\"load-js: cache hit\", cacheId);\n      return cacheEntry;\n    }\n    else if (options.allowExternal !== false) {\n      var el = getScriptById(options.id) || getScriptByUrl(options.url);\n\n      if (el) {\n        var promise = Promise.resolve(el);\n\n        if (cacheId) {\n          cache[cacheId] = promise;\n        }\n\n        return promise;\n      }\n    }\n\n    if (!options.url && !options.text) {\n      throw new Error(\"load-js: must provide a url or text to load\");\n    }\n\n    var pending = (options.url ? loadScript : runScript)(head, createScript(options));\n\n    if (cacheId && options.cache !== false) {\n      cache[cacheId] = pending;\n    }\n\n    return pending;\n  }\n\n  function runScript(head, script) {\n    head.appendChild(script);\n    return Promise.resolve(script);\n  }\n\n  function loadScript(head, script) {\n    return new Promise(function(resolve, reject) {\n      // Handle Script loading\n      var done = false;\n\n      // Attach handlers for all browsers.\n      //\n      // References:\n      // http://stackoverflow.com/questions/4845762/onload-handler-for-script-tag-in-internet-explorer\n      // http://stevesouders.com/efws/script-onload.php\n      // https://www.html5rocks.com/en/tutorials/speed/script-loading/\n      //\n      script.onload = script.onreadystatechange = function() {\n        if (!done && (!script.readyState || script.readyState === \"loaded\" || script.readyState === \"complete\")) {\n          done = true;\n\n          // Handle memory leak in IE\n          script.onload = script.onreadystatechange = null;\n          resolve(script);\n        }\n      };\n\n      script.onerror = reject;\n\n      head.appendChild(script);\n    });\n  }\n\n  function createScript(options) {\n    var script = document.createElement(\"script\");\n    script.charset = options.charset || \"utf-8\";\n    script.type = options.type || \"text/javascript\";\n    script.async = !!options.async;\n    script.id = options.id || options.url;\n    script.loadJS = \"watermark\";\n\n    if (options.url) {\n      script.src = options.url;\n    }\n\n    if (options.text) {\n      script.text = options.text;\n    }\n\n    return script;\n  }\n\n  function getScriptById(id) {\n    var script = id && document.getElementById(id);\n\n    if (script && script.loadJS !== \"watermark\") {\n      console.warn(\"load-js: duplicate script with id:\", id);\n      return script;\n    }\n  }\n\n  function getScriptByUrl(url) {\n    var script = url && document.querySelector(\"script[src='\" + url + \"']\");\n\n    if (script && script.loadJS !== \"watermark\") {\n      console.warn(\"load-js: duplicate script with url:\", url);\n      return script;\n    }\n  }\n\n  return function load(items) {\n    return items instanceof Array ?\n      Promise.all(items.map(exec)) :\n      exec(items);\n  }\n}\n\nmodule.exports = createLoadJS();\nmodule.exports.create = createLoadJS;\n"]}